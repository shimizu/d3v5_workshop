<!DOCTYPE html>
<html lang="jp">
<head>
<style>
html, body {
    width: 100%;
    height: 100%;
}
   
svg {
    width:900px;
    height: 900px;
    background-color:#ccc;
}

#btn {
    display: block;
}
    
</style>    


</head>
<body>
<!--
トランジションしつつアップデートします。
-->
    
<button id="btn">update</button>       
<svg id="stage">
    <circle cx="100" cy="200" r="50" fill="red" />
</svg>

<script src="//unpkg.com/d3@5.0.0/dist/d3.min.js"></script>    
<script>
 //ボタンクリック時の処理   
d3.select("#btn").on("click", updateElement);



function updateElement(){
    //circle要素を選択し、属性値をトランジションアップデートする。
    d3.select("circle")
        .transition()   //トランジション開始設定
        .duration(1000) //1000ms(1秒)間かけて遷移
        .attr("r", "250") //50->250の間を保管してトランジションする
        .attr("fill", "green")  //赤から緑へとトランジション

}    
</script>

</body>
</html>