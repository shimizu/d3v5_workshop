<!DOCTYPE html>
<html lang="jp">
<head>
<style>
html, body {
    width: 100%;
    height: 100%;
}
   
svg {
    width:900px;
    height: 900px;
    background-color:#ccc;
}

#btn {
    display: block;
}
</style>    

</head>
<body>
<button id="btn">append</button>    
<svg id="stage"></svg>


<script src="//unpkg.com/d3@5.0.0/dist/d3.min.js"></script>    
<script>
/*
01.svg.htmlと同じグラフィックをD3.jsを使って表示したサンプルです。
cssセレクターを使って親要素を選択肢appendメソッドでエレメントを追加します。
 */
    
 
 //ボタンクリック時の処理   
d3.select("#btn").on("click", appendElement)    



function appendElement(){
    //svgエレメントを洗濯
    var svg = d3.select("#stage");
    
    
    //svg要素にcircle要素を追加する
    var circle = svg.append("circle");
    
    //circle要素の属性値を設定
    circle
        .attr("cx", 100)
        .attr("cy", 100)
        .attr("r", 50)
        .attr("fill", "red")
        .attr("stroke", "blue")
        .attr("stroke-width", 2);
        
    
    //svg要素にrect要素を追加する
    var rect = svg.append("rect");
    
    //rect要素の属性値を設定
    rect
        .attr("x", 100)
        .attr("y", 200)
        .attr("width", 200)
        .attr("height", 50)
        .attr("fill", "#00ff00")
        .attr("stroke", "#000000");
        
    
    //svg要素にtext要素を追加する
    var text = svg.append("text");
    
    //text要素の属性値を設定
    text
        .attr("x", 400)
        .attr("y", 500)
        .attr("font-family", "Verdana")
        .attr("font-size", 45)
        .attr("fill", "rgb(255, 120, 120)")
        .text("Hello, Inline SVG & D3 !");

}
    
</script>

</body>
</html>