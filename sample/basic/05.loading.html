<!DOCTYPE html>
<html lang="jp">
<head>
<style>
html, body {
    width: 100%;
    height: 100%;
}
   
svg {
    width:900px;
    height: 900px;
    background-color:#ccc;
}

</style>    

</head>
<body>
<h2>このコードの実行結果はweb開発者ツールのコンソールに出力されます。</h2>


<script src="//unpkg.com/d3@5.0.0/dist/d3.min.js"></script>    
<script>
/*
 * D3を使って外部ファイルを読み込むサンプルです。
 * データの読み込みは全て非同期で行われます。
*/   

/////////////////////////////////////////    
//csvファイルの読み込み
/////////////////////////////////////////
d3.csv("data/test.csv").then(function(data){
    console.log("1. test.csv", data); //読み込まれたデータは自動的にパースされオブジェクトに変換されます。    
    console.log("1. test.csv columns", data.columns) //カラムも取得できます。
});



/////////////////////////////////////////    
//jsonファイルの読み込み
/////////////////////////////////////////    
d3.json("data/test.json").then(function(data){
    console.log("2. test.json", data)
});    



/////////////////////////////////////////    
//複数ファイルの読み込み
/////////////////////////////////////////    
var p1 = d3.csv("data/test.csv");
var p2 = d3.json("data/test.json");

Promise.all([p1, p2]).then(function(data){
    console.log("3. dataArray", data)
});


</script>

</body>
</html>